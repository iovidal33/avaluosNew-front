<app-header [sidenav]="null"></app-header>
<div class="content">
  <div class="cdmx-header" style="background-image: url('assets/img/pattern-banner.png');">
    Avalúos
  </div>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="container">
          <ngx-avatar
            src="assets/img/avatar-person.svg"
            size="120"
          ></ngx-avatar>
        </div>
        <mat-error *ngIf="loginInvalid"> Credenciales Incorrectas </mat-error>
        <mat-form-field class="full-width-input">
          <input
            matInput
            placeholder="Usuario"
            formControlName="username"
            [patterns]="soloLetrasNoSpace"
            mask="L*"
            [dropSpecialCharacters]="false"
            required
          />
          <mat-error> El usuario es requerido. </mat-error>
          <button
            type="button"
            mat-button
            matSuffix
            mat-icon-button
            *ngIf="!form.get('username').value"
            type="button"
          >
            <mat-icon>person</mat-icon>
          </button>
          <!--button mat-button *ngIf="form.get('username').value" matSuffix mat-icon-button aria-label="Clear"
            (click)="form.patchValue({'username': ''})">
            <mat-icon>close</mat-icon>
          </button-->
        </mat-form-field>
        <mat-form-field class="full-width-input">
          <input
            matInput
            [type]="passVisibility ? 'text' : 'password'"
            placeholder="Clave"
            formControlName="password"
            required
          />
          <button
            type="button"
            mat-button
            matSuffix
            mat-icon-button
            type="button"
            (click)="passVisibility = !passVisibility"
          >
            <mat-icon>{{
              passVisibility ? "visibility" : "visibility_off"
            }}</mat-icon>
          </button>
            <mat-error> {{password.length < 6 ? 'La contraseña es requerida mínimo 6 caracteres' : 'La contraseña es requerida'}} </mat-error>
          

        </mat-form-field>

        <div style="padding-top: 15px; padding-bottom: 15px; text-align: left">
          <a mat-button [href]="linkRemeber">¿Olvidaste tu clave?</a>
        </div>
        <br />
        <div class="alert alert-danger" *ngIf="errMsj != ''">
          <p>{{ errMsj }}</p>
        </div>
        <button
          mat-raised-button
          type="submit"
          color="primary"
          class="top-buffer"
          [class.spinner]="loading"
          style="width: 100%"
          [disabled]="form.invalid || loading"
        >
          Acceder
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
<app-footer></app-footer>
